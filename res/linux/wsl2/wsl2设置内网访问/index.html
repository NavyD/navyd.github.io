<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title> - Even - A super concise theme for Hugo</title>
<meta name=renderer content="webkit">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta http-equiv=cache-control content="no-transform">
<meta http-equiv=cache-control content="no-siteapp">
<meta name=theme-color content="#f8f5ec">
<meta name=msapplication-navbutton-color content="#f8f5ec">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec">
<meta name=author content="navyd"><meta name=description content="WSL2è®¾ç½®å†…ç½‘è®¿é—® åœ¨ä½¿ç”¨dockerè·‘ä¸€ä¸ªç®€å•çš„ngnixæ—¶ï¼Œå‘ç°åªæœ‰å®¿ä¸»æœºä½¿ç”¨localhost:8080å¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œè€Œå†…ç½‘å†…å…¶ä»–"><meta name=keywords content="Hugo,blog,navyd">
<meta name=generator content="Hugo 0.87.0 with theme even">
<link rel=canonical href=https://navyd.github.io/res/linux/wsl2/wsl2%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%91%E8%AE%BF%E9%97%AE/>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/manifest.json>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<link href=/sass/main.min.a659bb31b17a54f7792e1bc783fc75b31118e6a175b42337b03fae0b1a3ef2b5.css rel=stylesheet>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous>
<meta property="og:title" content>
<meta property="og:description" content="WSL2è®¾ç½®å†…ç½‘è®¿é—® åœ¨ä½¿ç”¨dockerè·‘ä¸€ä¸ªç®€å•çš„ngnixæ—¶ï¼Œå‘ç°åªæœ‰å®¿ä¸»æœºä½¿ç”¨localhost:8080å¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œè€Œå†…ç½‘å†…å…¶ä»–">
<meta property="og:type" content="article">
<meta property="og:url" content="https://navyd.github.io/res/linux/wsl2/wsl2%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%91%E8%AE%BF%E9%97%AE/"><meta property="article:section" content="res">
<meta itemprop=name content>
<meta itemprop=description content="WSL2è®¾ç½®å†…ç½‘è®¿é—® åœ¨ä½¿ç”¨dockerè·‘ä¸€ä¸ªç®€å•çš„ngnixæ—¶ï¼Œå‘ç°åªæœ‰å®¿ä¸»æœºä½¿ç”¨localhost:8080å¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œè€Œå†…ç½‘å†…å…¶ä»–">
<meta itemprop=wordCount content="1725">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content>
<meta name=twitter:description content="WSL2è®¾ç½®å†…ç½‘è®¿é—® åœ¨ä½¿ç”¨dockerè·‘ä¸€ä¸ªç®€å•çš„ngnixæ—¶ï¼Œå‘ç°åªæœ‰å®¿ä¸»æœºä½¿ç”¨localhost:8080å¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œè€Œå†…ç½‘å†…å…¶ä»–"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<div id=mobile-navbar class=mobile-navbar>
<div class=mobile-header-logo>
<a href=/ class=logo>navydçš„ä¸ªäººåšå®¢</a>
</div>
<div class=mobile-navbar-icon>
<span></span>
<span></span>
<span></span>
</div>
</div>
<nav id=mobile-menu class="mobile-menu slideout-menu">
<ul class=mobile-menu-list>
<a href=/>
<li class=mobile-menu-item>Home</li>
</a><a href=/post/>
<li class=mobile-menu-item>Archives</li>
</a><a href=/tags/>
<li class=mobile-menu-item>Tags</li>
</a><a href=/categories/>
<li class=mobile-menu-item>Categories</li>
</a>
</ul>
</nav>
<div class=container id=mobile-panel>
<header id=header class=header>
<div class=logo-wrapper>
<a href=/ class=logo>navydçš„ä¸ªäººåšå®¢</a>
</div>
<nav class=site-navbar>
<ul id=menu class=menu>
<li class=menu-item>
<a class=menu-item-link href=/>Home</a>
</li><li class=menu-item>
<a class=menu-item-link href=/post/>Archives</a>
</li><li class=menu-item>
<a class=menu-item-link href=/tags/>Tags</a>
</li><li class=menu-item>
<a class=menu-item-link href=/categories/>Categories</a>
</li>
</ul>
</nav>
</header>
<main id=main class=main>
<div class=content-wrapper>
<div id=content class=content>
<article class=post>
<div class=post-content>
<h1 id=wsl2è®¾ç½®å†…ç½‘è®¿é—®>WSL2è®¾ç½®å†…ç½‘è®¿é—®</h1>
<p>åœ¨ä½¿ç”¨dockerè·‘ä¸€ä¸ªç®€å•çš„ngnixæ—¶ï¼Œå‘ç°åªæœ‰å®¿ä¸»æœºä½¿ç”¨<code>localhost:8080</code>å¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œè€Œå†…ç½‘å†…å…¶ä»–ç”µè„‘åˆ™æ²¡åŠæ³•ä½¿ç”¨å®¿ä¸»æœºå†…ç½‘ipè®¿é—®ngnixç•Œé¢</p>
<p>å†ç”¨ideaå¯åŠ¨ä¸€ä¸ªwebæœåŠ¡ï¼Œè¿˜æ˜¯ä¸èƒ½è¢«å†…ç½‘è®¿é—®</p>
<h2 id=åŸå› >åŸå› </h2>
<p>wsl2æ˜¯ä¸€ä¸ªhyper vè™šæ‹Ÿæœºï¼Œä½¿ç”¨ virtual network adapterè¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œå±€åŸŸç½‘æœºå™¨è®¿é—®windowså®¿ä¸»æœºï¼Œwindowså®¿ä¸»æœºè½¬å‘ç«¯å£è‡³wsl2</p>
<p><code>netsh interface portproxy add v4tov4 listenport=8080 connectaddress=127.0.0.1 connectport=8080 listenaddress=* protocol=tcp</code>ï¼Œä½†æ˜¯è¿™æ®µæŒ‡ä»¤è¿˜æ˜¯æœ‰ä¸ªé—®é¢˜æˆ‘è½¬å‘çš„ipæ˜¯127.0.0.1 è¿™é‡Œå¾ˆæ˜æ˜¾è½¬å‘åˆ°çš„æ˜¯windowså®¿ä¸»æœºçš„ipè€Œä¸æ˜¯wsl2çš„ipã€‚</p>
<p>ä½†æ˜¯æœ‰ä¸ªç–‘é—®çš„ç‚¹æ˜¯ windowså®¿ä¸»æœºèƒ½å¤Ÿåœ¨æµè§ˆå™¨ç›´æ¥è®¿é—®127.0.0.1:8080æ¥è®¿é—®åˆ°wsl2ä¸­çš„httpæœåŠ¡ã€‚äºæ˜¯äº‹æƒ…å°±å˜æˆäº† æˆ‘è½¬å‘åˆ°127.0.0.1æ˜¯ä¸è¡Œçš„ï¼Œå¿…é¡»è½¬å‘åˆ°wsl2å†…éƒ¨ipä¹Ÿå°±æ˜¯172.31.58.132ï¼Œè¿™é‡Œçš„è¯é—®é¢˜å˜æˆäº† wsl2çš„å†…éƒ¨ipæ˜¯æ¯æ¬¡é‡å¯éƒ½ä¼šå˜çš„ã€‚</p>
<h2 id=è§£å†³æ–¹æ¡ˆ>è§£å†³æ–¹æ¡ˆ</h2>
<p>ç”¨wsl2è™šæ‹Ÿæœºåˆ†é…ä¸€ä¸ªipï¼Œä½¿ç”¨windowsè‡ªå¸¦çš„ç«¯å£è½¬å‘å‘½ä»¤netshå¯ä»¥å®ç°åœ¨è·å–äº†è™šæ‹Ÿæœºipä¹‹åè½¬å‘è‡³wsl2è¿›è€Œè¿›è¡Œè®¿é—®ã€‚</p>
<h3 id=script>script</h3>
<p>æ¯æ¬¡é‡å¯æ¥è·å–wsl2çš„å†…éƒ¨ipå¹¶ä¸”å†™å…¥åˆ°windowsçš„hostsä¸­</p>
<ol>
<li>
<p>è·å¾—è™šæ‹Ÿæœºip</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>$ ip a <span class=p>|</span> grep eth0 <span class=c1># 172.22.58.201</span>
5: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class=m>1500</span> qdisc mq state UP group default qlen <span class=m>1000</span>
    inet 172.22.58.201/20 brd 172.22.63.255 scope global eth0
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>è®¾ç½®ç«¯å£è½¬å‘ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™è¿è¡Œï¼‰</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=c># netsh interface portproxy add v4tov4 listenport=[å®¿ä¸»æœºwindowså¹³å°ç›‘å¬ç«¯å£] listenaddress=[å…è®¸è¿›å…¥çš„åœ°å€] connectport=[wsl2å¹³å°ç›‘å¬ç«¯å£] connectaddress=[wsl2å¹³å°ip] protocol=tcp</span>
<span class=p>&gt;</span> <span class=n>netsh</span> <span class=n>interface</span> <span class=n>portproxy</span> <span class=n>add</span> <span class=n>v4tov4</span> <span class=n>listenport</span><span class=p>=</span><span class=n>8080</span> <span class=n>connectaddress</span><span class=p>=</span><span class=n>172</span><span class=p>.</span><span class=n>22</span><span class=p>.</span><span class=n>58</span><span class=p>.</span><span class=n>201</span> <span class=n>connectport</span><span class=p>=</span><span class=n>8080</span> <span class=n>listenaddress</span><span class=p>=*</span> <span class=n>protocol</span><span class=p>=</span><span class=n>tcp</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>æŸ¥çœ‹ä¸‹ç«¯å£è½¬å‘çŠ¶æ€</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=p>&gt;</span> <span class=n>netsh</span> <span class=n>interface</span> <span class=n>portproxy</span> <span class=n>show</span> <span class=n>all</span>

<span class=n>Listen</span> <span class=n>on</span> <span class=n>ipv4</span><span class=err>:</span>             <span class=n>Connect</span> <span class=n>to</span> <span class=n>ipv4</span><span class=err>:</span>

<span class=n>Address</span>         <span class=n>Port</span>        <span class=n>Address</span>         <span class=n>Port</span>
<span class=p>---------------</span> <span class=p>----------</span>  <span class=p>---------------</span> <span class=p>----------</span>
<span class=p>*</span>               <span class=n>8080</span>        <span class=n>172</span><span class=p>.</span><span class=n>22</span><span class=p>.</span><span class=n>58</span><span class=p>.</span><span class=n>201</span>   <span class=n>8080</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>æ­¤æ—¶å¯æµ‹è¯•åœ¨å†…ç½‘æœºå™¨ä¸Šè®¿é—®æˆåŠŸï¼ˆå…ˆå®Œå…¨å…³é—­win10 defender firewallï¼‰</p>
<h4 id=å¦‚ä½•åˆ é™¤ç«¯å£è½¬å‘>å¦‚ä½•åˆ é™¤ç«¯å£è½¬å‘</h4>
<p><code>netsh interface portproxy delete v4tov4 listenport=[port] protocol=tcp</code></p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=p>&gt;</span> <span class=n>netsh</span> <span class=n>interface</span> <span class=n>portproxy</span> <span class=n>show</span> <span class=n>all</span>

<span class=n>Listen</span> <span class=n>on</span> <span class=n>ipv4</span><span class=err>:</span>             <span class=n>Connect</span> <span class=n>to</span> <span class=n>ipv4</span><span class=err>:</span>

<span class=n>Address</span>         <span class=n>Port</span>        <span class=n>Address</span>         <span class=n>Port</span>
<span class=p>---------------</span> <span class=p>----------</span>  <span class=p>---------------</span> <span class=p>----------</span>
<span class=p>*</span>               <span class=n>9000</span>        <span class=n>172</span><span class=p>.</span><span class=n>22</span><span class=p>.</span><span class=n>58</span><span class=p>.</span><span class=n>201</span>   <span class=n>9000</span>
<span class=p>*</span>               <span class=n>8080</span>        <span class=n>172</span><span class=p>.</span><span class=n>22</span><span class=p>.</span><span class=n>58</span><span class=p>.</span><span class=n>201</span>   <span class=n>8080</span>

<span class=p>&gt;</span> <span class=n>netsh</span> <span class=n>interface</span> <span class=n>portproxy</span> <span class=n>delete</span> <span class=n>v4tov4</span> <span class=n>listenport</span><span class=p>=</span><span class=n>9000</span> <span class=n>protocol</span><span class=p>=</span><span class=n>tcp</span>

<span class=p>&gt;</span> <span class=n>netsh</span> <span class=n>interface</span> <span class=n>portproxy</span> <span class=n>show</span> <span class=n>all</span>

<span class=n>Listen</span> <span class=n>on</span> <span class=n>ipv4</span><span class=err>:</span>             <span class=n>Connect</span> <span class=n>to</span> <span class=n>ipv4</span><span class=err>:</span>

<span class=n>Address</span>         <span class=n>Port</span>        <span class=n>Address</span>         <span class=n>Port</span>
<span class=p>---------------</span> <span class=p>----------</span>  <span class=p>---------------</span> <span class=p>----------</span>
<span class=p>*</span>               <span class=n>8080</span>        <span class=n>172</span><span class=p>.</span><span class=n>22</span><span class=p>.</span><span class=n>58</span><span class=p>.</span><span class=n>201</span>   <span class=n>8080</span>
</code></pre></td></tr></table>
</div>
</div><h3 id=windowsé˜²ç«å¢™è®¾ç½®>Windowsé˜²ç«å¢™è®¾ç½®</h3>
<p>windowsé˜²ç«å¢™å¼€å¯å…¥ç«™è§„åˆ™æˆ–è€…ç›´æ¥å…³é—­é˜²ç«å¢™</p>
<p><code>è®¾ç½®-->æ›´æ–°å’Œå®‰å…¨-->Windowså®‰å…¨ä¸­å¿ƒ-->é˜²ç«å¢™å’Œç½‘ç»œä¿æŠ¤-->é«˜çº§è®¾ç½®-->å…¥ç«™è§„åˆ™-->æ–°å»ºè§„åˆ™-->ç«¯å£-->TCP,ç‰¹å®šæœ¬åœ°ç«¯å£-->å…è®¸è¿æ¥</code></p>
<p><img src=../../assets/images/258dd81a-6fc2-43f2-aa73-9a57b3ebe8f5.png alt></p>
<h3 id=è®¾ç½®powershell-script>è®¾ç½®powershell script</h3>
<p>å› ä¸ºæ¯ä¸€æ¬¡é‡æ–°å¯åŠ¨ wsl2çš„ipéƒ½ä¼šå˜åŠ¨ï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡é‡å¯éƒ½å»æ‰‹åŠ¨æ‰§è¡Œç«¯å£è½¬å‘æ˜¯ä¸€ä»¶åäººç±»çš„äº‹æƒ…ï¼Œ<a test=/res/linux/wsl2/wsl2%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%91%E8%AE%BF%E9%97%AE/ href=https://github.com/microsoft/WSL/issues/4150#issuecomment-504209723>[WSL 2] NIC Bridge mode ğŸ–§ (Has TCP WorkaroundğŸ”¨) #4150</a>æ‰¾åˆ°ä¸€ä¸ªpowershellçš„è„šæœ¬èƒ½å¤Ÿæ¯ä¸€æ¬¡è·å–è™šæ‹Ÿæœºipï¼Œå¹¶è¿›è¡ŒæŒ‡å®šç«¯å£è½¬å‘</p>
<ol>
<li>
<p>ä½¿ç”¨cmdè°ƒç”¨powershellè¿è¡Œè„šæœ¬ï¼Œé¦–æ¬¡æ‰§è¡Œå¯èƒ½ä¼šæœ‰æŠ¥é”™ï¼Œå› ä¸ºpowershellé»˜è®¤ä¸èƒ½ç›´æ¥æ‰§è¡Œè„šæœ¬ï¼Œéœ€è¦æ›´æ”¹ä¸€ä¸ªè®¾ç½®ï¼Œéœ€åœ¨powershellä¸‹æ‰§è¡Œ</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=nb>Set-ExecutionPolicy</span> <span class=n>RemoteSigned</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>å¦‚æœæ²¡æœ‰æ‰¾åˆ°<code>ifconfig</code>å‘½ä»¤ï¼Œåˆ™ubuntuå®‰è£…<code>sudo apt-get install net-tools</code>ã€‚è¿˜æœ‰ä¸€ç§æ–¹å¼åªç”¨<code>ip</code>å‘½ä»¤ï¼š<code>ip a | awk '/^[0-9]+: / {}; /inet.*eth0/ {print gensub(/(.*)\/(.*)/, "\\1", "g", $2)}'</code>ï¼Œä½†æ˜¯psä¸­ä¸èƒ½è¿è¡Œ</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=n>bash</span><span class=p>.</span><span class=n>exe</span> <span class=n>-c</span> <span class=s2>&#34;ip a | awk &#39;/^[0-9]+: / {}; /inet.*eth0/ {print gensub(/(.*)\/(.*)/, &#34;</span><span class=p>\\</span><span class=n>1</span><span class=s2>&#34;, &#34;</span><span class=n>g</span><span class=s2>&#34;, $2)}&#39;&#34;</span>
<span class=p>\\</span><span class=n>1</span><span class=p>,</span> <span class=n>g</span><span class=p>,</span> <span class=p>)}</span><span class=s1>&#39;: -c: line 0: unexpected EOF while looking for matching `&#39;&#39;
</span><span class=s1>\\1, g, )}&#39;</span><span class=err>:</span> <span class=n>-c</span><span class=err>:</span> <span class=n>line</span> <span class=n>1</span><span class=err>:</span> <span class=n>syntax</span> <span class=n>error</span><span class=err>:</span> <span class=n>unexpected</span> <span class=k>end</span> <span class=n>of</span> <span class=n>file</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>å¦‚æœæç¤º<code>The requested operation requires elevation (Run as administrator).</code>ï¼Œåˆ™éœ€è¦åœ¨ç®¡ç†å‘˜æ‰“å¼€powershellè¿è¡Œ</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=n>C:</span><span class=p>\</span><span class=n>WINDOWS</span><span class=p>\</span><span class=n>system32</span><span class=p>&gt;</span> <span class=n>C:</span><span class=p>\</span><span class=n>Users</span><span class=p>\</span><span class=n>navyd</span><span class=p>\</span><span class=n>Desktop</span><span class=p>\</span><span class=nb>wsl2-port</span><span class=n>-forwarding</span><span class=p>.</span><span class=n>ps1</span>
<span class=n>The</span> <span class=n>system</span> <span class=n>cannot</span> <span class=n>find</span> <span class=n>the</span> <span class=n>file</span> <span class=n>specified</span><span class=p>.</span>
<span class=n>The</span> <span class=n>system</span> <span class=n>cannot</span> <span class=n>find</span> <span class=n>the</span> <span class=n>file</span> <span class=n>specified</span><span class=p>.</span>
<span class=n>The</span> <span class=n>system</span> <span class=n>cannot</span> <span class=n>find</span> <span class=n>the</span> <span class=n>file</span> <span class=n>specified</span><span class=p>.</span>
<span class=n>The</span> <span class=n>system</span> <span class=n>cannot</span> <span class=n>find</span> <span class=n>the</span> <span class=n>file</span> <span class=n>specified</span><span class=p>.</span>
<span class=n>The</span> <span class=n>system</span> <span class=n>cannot</span> <span class=n>find</span> <span class=n>the</span> <span class=n>file</span> <span class=n>specified</span><span class=p>.</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>è¿è¡Œscriptåï¼Œæ‰§è¡Œnetsh interface portproxy show all æŸ¥çœ‹ç«¯å£ï¼Œç¡®è®¤æ˜¯å¦æœ‰æ•ˆ</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=n>C:</span><span class=p>\</span><span class=n>WINDOWS</span><span class=p>\</span><span class=n>system32</span><span class=p>&gt;</span> <span class=n>netsh</span> <span class=n>interface</span> <span class=n>portproxy</span> <span class=n>show</span> <span class=n>all</span>
<span class=n>Listen</span> <span class=n>on</span> <span class=n>ipv4</span><span class=err>:</span>             <span class=n>Connect</span> <span class=n>to</span> <span class=n>ipv4</span><span class=err>:</span>

<span class=n>Address</span>         <span class=n>Port</span>        <span class=n>Address</span>         <span class=n>Port</span>
<span class=p>---------------</span> <span class=p>----------</span>  <span class=p>---------------</span> <span class=p>----------</span>
<span class=p>*</span>               <span class=n>80</span>          <span class=n>172</span><span class=p>.</span><span class=n>22</span><span class=p>.</span><span class=n>58</span><span class=p>.</span><span class=n>201</span>   <span class=n>80</span>
<span class=p>*</span>               <span class=n>443</span>         <span class=n>172</span><span class=p>.</span><span class=n>22</span><span class=p>.</span><span class=n>58</span><span class=p>.</span><span class=n>201</span>   <span class=n>443</span>
<span class=p>*</span>               <span class=n>10000</span>       <span class=n>172</span><span class=p>.</span><span class=n>22</span><span class=p>.</span><span class=n>58</span><span class=p>.</span><span class=n>201</span>   <span class=n>10000</span>
<span class=p>*</span>               <span class=n>9000</span>        <span class=n>172</span><span class=p>.</span><span class=n>22</span><span class=p>.</span><span class=n>58</span><span class=p>.</span><span class=n>201</span>   <span class=n>9000</span>
<span class=p>*</span>               <span class=n>8080</span>        <span class=n>172</span><span class=p>.</span><span class=n>22</span><span class=p>.</span><span class=n>58</span><span class=p>.</span><span class=n>201</span>   <span class=n>8080</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p><a test=/res/linux/wsl2/wsl2%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%91%E8%AE%BF%E9%97%AE/ href=../../assets/files/wsl2-port-forwarding.ps1>wsl2-port-forwarding.ps1</a></p>
<p>æ³¨æ„ï¼šå°½é‡ä¸è¦è½¬å‘å¸¸ç”¨ç«¯å£ï¼Œå¦‚ä¸èƒ½è½¬å‘80ç«¯å£ï¼Œå¯èƒ½å¯¼è‡´win10 å…±äº«ç­‰ä¸èƒ½å·¥ä½œçš„å¼‚å¸¸</p>
<h3 id=é…ç½®ä»»åŠ¡è®¡åˆ’>é…ç½®ä»»åŠ¡è®¡åˆ’</h3>
<p>Go to search, search for task scheduler. In the actions menu on the right, click on create task.</p>
<p>Enter Name, go to triggers tab. Create a new trigger, with a begin task as you login, set delay to 10s.</p>
<p>Go to the actions and add the script. If you are using Laptop, go to settings and enable run on power.</p>
<p><a test=/res/linux/wsl2/wsl2%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%91%E8%AE%BF%E9%97%AE/ href=https://blog.csdn.net/qq_26435977/article/details/106008957>WSL2è®¾ç½®å†…ç½‘è®¿é—®</a></p>
<h2 id=å‚è€ƒ>å‚è€ƒ</h2>
<ul>
<li><a test=/res/linux/wsl2/wsl2%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%91%E8%AE%BF%E9%97%AE/ href=https://github.com/microsoft/WSL/issues/4150#issuecomment-504209723>[WSL 2] NIC Bridge mode ğŸ–§ (Has TCP WorkaroundğŸ”¨) #4150</a></li>
<li><a test=/res/linux/wsl2/wsl2%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%91%E8%AE%BF%E9%97%AE/ href=https://blog.csdn.net/qq_26435977/article/details/106008957>WSL2è®¾ç½®å†…ç½‘è®¿é—®</a></li>
<li><a test=/res/linux/wsl2/wsl2%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%91%E8%AE%BF%E9%97%AE/ href=https://studygolang.com/articles/29526>windows10 2004ç‰ˆä½¿ç”¨WSL2å¹¶è‡ªåŠ¨è½¬å‘WSL2ä¸­ç«¯å£</a></li>
<li><a test=/res/linux/wsl2/wsl2%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%91%E8%AE%BF%E9%97%AE/ href=https://zhuanlan.zhihu.com/p/144583887>WSL2æ¥äº†ï¼ä½†æ˜¯èƒ½æ­£å¸¸ä½¿ç”¨å¹¶ä¸ç®€å•</a></li>
</ul>
</div>
</article>
</div>
<script src=https://utteranc.es/client.js repo=navyd/navyd.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script>
<noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript>
</div>
</main>
<footer id=footer class=footer>
<div class=social-links>
<a href=https://github.com/NavyD/navyd.github.io class="iconfont icon-github" title=github></a>
<a href=https://navyd.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a>
</div>
<div class=copyright>
<span class=power-by>
ç”± <a class=hexo-link href=https://gohugo.io>Hugo</a> å¼ºåŠ›é©±åŠ¨
</span>
<span class=division>|</span>
<span class=theme-info>
ä¸»é¢˜ -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span>
<div class=busuanzi-footer>
<span id=busuanzi_container_site_pv> æœ¬ç«™æ€»è®¿é—®é‡ <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span> æ¬¡ </span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv> æœ¬ç«™æ€»è®¿å®¢æ•° <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span> äºº </span>
</div>
<span class=copyright-year>
&copy;
2021<span class=heart><i class="iconfont icon-heart"></i></span><span>navyd</span>
</span>
</div>
</footer>
<div class=back-to-top id=back-to-top>
<i class="iconfont icon-up"></i>
</div>
</div>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.min.js integrity="sha256-jwCP0NAdCBloaIWTWHmW4i3snUNMHUNO+jr9rYd2iOI=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.locales.min.js integrity="sha256-ZwofwC1Lf/faQCzN7nZtfijVV6hSwxjQMwXL4gn9qU8=" crossorigin=anonymous></script>
<script>var languageCode="en".replace(/-/g,'_').replace(/_(.*)/,function(b,a){return b.replace(a,a.toUpperCase())});timeago().render(document.querySelectorAll('.timeago'),languageCode),timeago.cancel()</script>
<script type=text/javascript src=/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js></script>
</body>
</html>